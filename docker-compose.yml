version: '2' # –∑–∞—Ä–µ—à–∞–ª –±–∞—Ç—è üòé

services:
  master: # –º–∞—Å—Ç–µ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä-–¥–µ—Ä–∏–∂—ë—Ä
    build: .
    container_name: 'master'
    command: ["sleep", "infinity"]
    networks:
      - net # –æ–±—â–∞—è —Å–µ—Ç—å 
    depends_on: # –≤—Å–µ –Ω–æ–¥—ã —Ä–∞–±–æ—Ç—è–≥–∏
      - node1
      - node2
      - node3
      - node4
  
  node1:
    build: .
    container_name: 'node1'
    command: ["sleep", "infinity"]
    networks:
      - net # –æ–±—â–∞—è —Å–µ—Ç—å 
  
  node2:
    build: .
    container_name: 'node2'
    command: ["sleep", "infinity"]
    networks:
      - net # –æ–±—â–∞—è —Å–µ—Ç—å 
  
  node3:
    build: .
    container_name: 'node3'
    command: ["sleep", "infinity"]
    networks:
      - net # –æ–±—â–∞—è —Å–µ—Ç—å 
  
  node4:  
    build: .
    container_name: 'node4'
    command: ["sleep", "infinity"]
    networks:
      - net # –æ–±—â–∞—è —Å–µ—Ç—å 

networks:
  net:
    driver: bridge # –ë—Ä–∏–¥–∂ –¥—Ä–∞–π–≤–µ—Ä —á—Ç–æ–±—ã –∫–æ–Ω–Ω–µ–∫—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
